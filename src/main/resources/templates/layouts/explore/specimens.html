<!DOCTYPE html>
<!--suppress ThymeleafVariablesResolveInspection -->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layouts/main_layout :: head('Expman')}">



</head>


<body>
<nav th:replace="layouts/main_layout::navigation"></nav>
<div th:replace="layouts/main_layout::breaks_top"></div>


<div class="container">
    <div th:if="${not #lists.isEmpty(specimens)}">
        <h3> Specimens List </h3>
        <table id="specimensTable" class="table table-striped">
            <thead>
            <tr>
                <th>Specimen code</th>
                <th>Taxon code</th>
                <th>Collection event</th>
                <th> Collected by</th>
                <th>Locality code</th>
                <th>Locality name</th>
            </tr>
            </thead>

            <tr th:each="specimen : ${specimens}">

                <td> <a th:href="@{'/view/specimen/' + ${specimen.getSpecimenCode()}}" th:text="${specimen.getSpecimenCode()}"></a></td>

                <td th:text="${specimen.getSpecies()}"></td>

                <td th:text="${specimen.getCollectionEvent()}"></td>

                <td th:text="${specimen.getCollectionEvent()} != null ? ${specimen.getCollectionEvent().getCollectedBy()} : ''"></td>

                <td th:text="${specimen.getCollectionEvent()} != null ? ${specimen.getCollectionEvent().getLocality()} : ''"></td>

                <td th:text="${specimen.getCollectionEvent()} != null and ${specimen.getCollectionEvent().getLocality()} != null ?
                ${specimen.getCollectionEvent().getLocality().getLocalityName()} : ''"></td>


                 <!-- <td th:text="${specimen.getSpecies()} != null ? ${specimen.getSpecies().getTaxonCode()} : 'null'"> </td>
                 <td th:text="${specimen.getCollectionEvent()} != null ? ${specimen.getCollectionEvent().getCollectionEventCode()} : 'null'"></td> -->

                </a>
            </tr>
        </table>
    </div>
    <div> &nbsp;</div>
    <div>
        Total items: [[${totalSpecimens}]] - Page [[${currentPage}]] of [[${totalPages}]]
        &nbsp; - &nbsp;

        <a th:if="${currentPage} > 1" th:href="@{'/explore/specimens/page/1'}"> First </a>
        <span th:if="${currentPage} == 1"> First </span>

        <a th:if="${currentPage} > 1" th:href="@{'/explore/specimens/page/' + ${currentPage - 1}}"> < Previous </a>
        <a th:if="${currentPage} == 1"> < Previous </a>

        <span th:each="i: ${#numbers.sequence(currentPage - 4,currentPage + 5)}">
            <a th:if="${i} < ${totalPages} and ${i} > 0" th:href="@{'/explore/specimens/page/' + ${i}}"> [[${i}]] </a>
        </span>

        <a th:if="${currentPage} < ${totalPages}" th:href="@{'/explore/specimens/page/' + ${currentPage + 1}}"> Next ></a>
        <a th:if="${currentPage} == ${totalPages}"> Next </a>

        <a th:if="${currentPage} < ${totalPages}" th:href="@{'/explore/specimens/page/' + ${totalPages}}"> Last >> </a>
        <span th:if="${currentPage} == ${totalPages}"> Last </span>

    </div>
</div>

</body>
</html>