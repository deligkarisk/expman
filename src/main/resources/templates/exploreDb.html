<!DOCTYPE html>
<!--suppress ThymeleafVariablesResolveInspection -->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layouts/main_layout :: head('Expman')}">
</head>


<body>
<nav th:replace="layouts/main_layout::navigation"></nav>
<div th:replace="layouts/main_layout::jumbotron"></div>

<div class="container">
    <div class="col-md-12">
        <div class="row">
            <h1 th:text="#{db.explore.page.title}"> Welcome to the experiment manager </h1>
        </div>
        <div class="row">
            <h2 th:text="#{db.explore.page.subtitle}"> This software help you manage the experimental metadata </h2>
        </div>
    </div>
</div>

<div class="container">
    <div th:if="${not #lists.isEmpty(specimens)}">
        <h2> Specimens List </h2>
        <table class="table table-striped">
            <tr>
                <th>specimenCode</th>
                <th>taxonCode</th>
                <th>collectionEvent</th>
                <th>collectedBy</th>
                <th>localityName</th>
            </tr>
            <tr th:each="specimen : ${specimens}">
                <td th:text="${specimen.getSpecimenCode()}"></td>
                <td th:text="${specimen.getSpecies()} != null ? ${specimen.getSpecies().getTaxonCode()} : 'null'"></td>
                <td th:text="${specimen.getCollectionEvent()} != null ? ${specimen.getCollectionEvent().getCollectionEventCode()} : 'null'"></td>
                <td th:text="${specimen.getCollectionEvent()} != null ? ${specimen.getCollectionEvent().getCollectedBy()} : 'null'"></td>
                <td th:text="${specimen.getCollectionEvent()} != null and ${specimen.getCollectionEvent().getLocality()} != null ? ${specimen.getCollectionEvent().getLocality().localityName} : 'null'"></td>
            </tr>
        </table>
    </div>
    <div> &nbsp; </div>
    <div>
    Total items: [[${totalSpecimens}]] - Page [[${currentPage}]] of [[${totalPages}]]
        &nbsp; - &nbsp;

        <a th:if="${currentPage} > 1" th:href="@{'/db/page/1'}"> First </a>
        <span th:if="${currentPage} == 1"> First </span>

        <a th:if="${currentPage} > 1" th:href="@{'/db/page/' + ${currentPage - 1}}"> Previous </a>
        <a th:if="${currentPage} == 1"> Previous </a>

        <span th:each="i: ${#numbers.sequence(currentPage - 4,currentPage + 5)}">
            <a th:if="${i} < ${totalPages} and ${i} > 0" th:href="@{'/db/page/' + ${i}}"> [[${i}]] </a>
        </span>

        <a th:if="${currentPage} < ${totalPages}" th:href="@{'/db/page/' + ${currentPage + 1}}"> Next </a>
        <a th:if="${currentPage} == ${totalPages}"> Next </a>

        <a th:if="${currentPage} < ${totalPages}" th:href="@{'/db/page/' + ${totalPages}}"> Last </a>
        <span th:if="${currentPage} == ${totalPages}"> Last </span>

    </div>
</div>


</body>
</html>